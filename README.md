# Java 并发编程笔记

## 2.1 进程与线程

### 进程

- 进程，是一个程序的实例。
- 程序，由指令和数据组成（比如.exe文件就是一个程序）
- 当一个程序被运行，就是开启了一个进程。因为进程就是用来加载指令，管理内存，管理IO, 实现运行程序的过程。

### 线程

- 一个进程可以分为一到多个线程
- 一个线程，就是一个指令流，将指令流中的一条条指令以一定的顺序交给CPU执行
- Java 中，线程作为最小调度单位，进程作为资源分配的最小单位

## 2.2 并行与并发

- 并发（concurrent）是同一时间应对（dealing with）多件事情的能力。
  1. 单核 cpu 在任务调度器的协调下，使多个线程轮流使用 cpu 的做法
- 并行（parallel）是同一时间动手做（doing）多件事情的能力。
  1. 多核 cpu 同时执行不同的线程
- 但是计算机 cpu 的 core 的个数在大部分情况下是少于线程的个数，所以最常见的情况是，并行和并发同时发生。

## 2.3 应用
- 同步：需要等待结果返回
- 异步：不需要等待结果返回
- 多线程可以让方法执行变为异步的（即不要巴巴干等着），比如说读取磁盘文件是，假设读取操花费了5秒钟，如果没有线程调度机制，这5秒，调用者什么
做不了，其代码都得暂停...

## 结论
- 单核 CPU 下，多线程不能实际提高程序运行效率
- 多核 CPU 可以并行跑多个线程，但能否提高程序的运行效率还是要分情况的
- IO 操作不占用 CPU，只是我们一般拷贝文件使用的是 阻塞IO，这时相当于线程虽不用 CPU, 但需要一致等待 IO 结束，没能充分利用线程。所以才有
后面的 非阻塞IO 和 异步IO 优化。

-----------大概54 分钟，还有31小时45分钟